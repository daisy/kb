<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>テキストの進行方向</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Guidelines for using the dir attribute in HTML">
		<script>
			var page_info = {
				'category': 'html',
				'appliesTo': ['EPUB3','EPUB2','Audiobooks*']
			};
		</script>
		<script src="/js/init.js"></script>
	</head>
	<body>
		<main>
			<section id="summary">
				<h3>要約</h3>
				
				<p>右から左に書かれたテキストが正しく表示されるように、基本となる方向を設定します。</p>
			</section>
			
			<section id="tech">
				<h3>テクニック</h3>
				
				<ul>
					<li> <code>html</code>要素に<code>dir</code>属性を設定する[[WCAG-1.3.2]]</li>
					<li>デフォルトの方向が変わるたびに<code>dir</code>属性を設定する[[WCAG-1.3.2]]</li>
				</ul>
			</section>

			<section id="ex">
				<h3>例</h3>
				
				<figure id="ex-01">
					<figcaption>
						<div class="label">例1 — デフォルトの基本方向の宣言</div>
					</figcaption>
					<pre id="ex-01-src" class="prettyprint linenums"><code>&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="he"
      lang="he"
      dir="rtl"&gt;</code></pre>
				</figure>
			</section>
			
			<section id="faq">
				<h3>よくある質問</h3>
				
				<dl>
					<dt id="faq-001">左から右に記述するドキュメントでは<code>dir</code>属性を宣言する必要がありますか?</dt>
					<dd>
						<p>いいえ。HTML では、テキストの方向はデフォルトで左から右に設定されているため、左から右のドキュメントに<code>dir</code>属性を設定する必要はありません。右から左のドキュメントに埋め込まれている左から右のテキストのみを、指定する必要があります。</p>
					</dd>
					
					<dt id="faq-002">テキストの言語を設定するだけでもよいですか？</dt>
					<dd>
						<p>いいえ。言語の宣言は表示の方向性には影響しません。<a href="lang.html">言語の設定は、</a>テキスト読み上げのレンダリングにとって重要です。</p>
					</dd>
					
					<dt id="faq-003">代わりに CSS を使用して方向を設定できますか?</dt>
					<dd>
						<p>いいえ。CSS は、すべてのリーディングシステムで常に利用可能というわけではありません。HTML と CSS の仕様では、テキストの方向を設定するためにマークアップを使用することが推奨されています。</p>
						<p>詳細については、<a href="https://www.w3.org/International/questions/qa-bidi-css-markup">Bidi サポートの CSS とマークアップ</a>を参照してください。</p>
					</dd>
					
					<dt id="faq-004">テキストを入力するフォームがある場合はどうなりますか？</dt>
					<dd>
						<p>フォームと入力で<code>dir</code>属性を<code>auto</code>に設定すると、実行時にリーディングシステムがテキストの方向を決定できるようになります。</p>
					</dd>
					
					<dt id="faq-005"> <code>bdi</code>要素と<code>bdo</code>要素はいつ使用すればよいですか?</dt>
					<dd>
						<p>出版物でこれらの要素が必要になることは一般的ではありません。</p>
						
						<p><code>bdi</code>要素は、ユーザーが作成したテキストをドキュメントに挿入するために使用されます。テキストの方向がわからないため、リーディングシステムがコンテンツを調べ、必要に応じて基本方向を調整できるようにします。</p>
						
						<p><code>bdo</code>要素は、テキストの基本方向を上書きするために使用されます。たとえば、右から左のテキストを左から右の形式でレンダリングするように強制するために使用できます。</p>
					</dd>
				</dl>
			</section>
			
			<section id="desc">
				<h3>解説</h3>
				
				<p>HTMLおよびSVGドキュメントで右から左に進行するテキストについては、基本となるテキストの進行方向を設定し、リーディングシステムでテキストが適切に表示され、支援技術によって適切に読み取れるようにすることが重要です。</p>
				
				<p>右から左に記述するテキストがマークアップの中でエンコードされ、メモリに保存される方法と、それがどのように表示され、あるいは読まれるかは、同じではありません。正しい基本となる進行方向が指定されていない場合、ページの内容が順序どおりに読み取れないかもしれません。これは、左から右に記述するテキストが右から左に記述するドキュメントの中に埋め込まれている場合に特に問題となります。たとえば、数字や句読点などの弱い型指定の文字が間違った場所にレンダリングされたり、リストエントリが順序どおりに配置されないかもしれません。</p>
				
				<p>ドキュメントの基本方向が右から左であることを示すには、ルートの<code>html</code>または<code>svg</code>要素に<code>dir</code>属性を追加するだけです。</p>
				
				<pre id="desc-ex-01" class="prettyprint linenums"><code>&lt;html … dir="rtl"&gt;

&lt;svg … dir="rtl"&gt;</code></pre>
				
				<p>左から右の基本方向を持つテキストが右から左の文書に埋め込まれている場合は、それを囲む要素に<code>dir</code>属性を追加します。たとえば、文書に左から右の基本方向を持つ引用が含まれている場合は、囲む<code>blockquote</code>に<code>dir</code>属性を追加します。</p>
				
				<pre id="desc-ex-02" class="prettyprint linenums"><code>&lt;blockquote dir="ltr"&gt;
   &lt;p&gt;It was the best of times, it was the worst of times, …&lt;/p&gt;
&lt;/blockquote&gt;</code></pre>
				
				<p>一連の文章の中で基本方向が変わる場合は、 <code>dir</code>属性を持つ<code>span</code>要素を追加します。</p>
				
				<pre id="desc-ex-03" class="prettyprint linenums"><code>&lt;p&gt;
   &lt;!-- right-to-left text --&gt;
   &lt;span dir="ltr"&gt;Accessible EPUB 3&lt;/span&gt;
   &lt;!-- right-to-left text --&gt;
&lt;/p&gt;</code></pre>
			</section>
			
			<section id="refs">
				<h3>関連リンク</h3>

				<ul>
					<li>W3C — <a href="https://www.w3.org/International/questions/qa-html-dir">HTML における構造マークアップと右から左へのテキスト</a> </li>
					<li>W3C — <a href="https://www.w3.org/International/articles/inline-bidi-markup/">HTML のインラインマークアップと双方向テキスト</a> </li>
					<li>W3C — <a href="https://www.w3.org/International/articles/inline-bidi-markup/uba-basics">Unicode 双方向アルゴリズムの基礎</a> </li>
					<li>W3C —<a href="https://www.w3.org/International/tutorials/bidi-xhtml/">アラビア語、ヘブライ語、その他の右から左に書く文字で HTML ページを作成する（チュートリアル）</a> </li>
				</ul>
			</section>
		</main>
	</body>
</html>
