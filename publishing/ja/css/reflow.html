<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>リフロー</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Guidance on making content reflow when zoomed for easier reading.">
		<script>
			var page_info = {
				'category': 'CSS',
				'appliesTo': ['Audiobooks*','EPUB3', 'EPUB2'],
				'addh4': true
			};
		</script>
		<script src="/js/init.js"></script>
	</head>
	<body>
		<main>
			<section id="summary">
				<h3>要約</h3>
				
				<p>400%まで拡大しても出版物のコンテンツが画面スペース内にリフローして収まるようにします。</p>
			</section>
			
			<section id="tech">
				<h3>テクニック</h3>
				
				<ul>
					<li>
						<p>CSSを使用してレイアウトを調整する[[WCAG-1.4.10]]</p>
					</li>
					
					<li>
						<p>コンテナ要素の指定には相対的なサイズ単位を使用する [[WCAG-1.4.10]]</p>
					</li>
					
					<li>
						<p>長い単語の改行を有効にする [[WCAG-1.4.10]]</p>
					</li>
				</ul>
			</section>
			
			<section id="desc">
				<h3>解説</h3>
				
				<p>WCAGの<a href="https://www.w3.org/TR/WCAG2/#reflow">リフローの達成基準</a>では、幅1080ピクセル、高さ1024ピクセルの解像度の、標準デスクトップ画面で400%に拡大されたコンテンツが二次元スクロールを必要としないことが求められています。この要件は、縦スクロールページの場合、ユーザーがコンテンツを読むために横スクロールする必要がないことを意味します（適応すると使用不能または判読不能になるコンテンツは例外）。コンテンツは画面領域内に収まるように調整される必要があります。</p>
				
				<p>この種の調整はレスポンシブWebデザインとして知られています。Webサイトの作成者は、CSSレイアウトとメディアクエリーを組み合わせ、画面のスペースが減ったときには、複数列で構成されるページレイアウトを一列構成に減らします。</p>
				
				<section id="reflow">
					<h4>リフロー型の出版物</h4>
					
					<p>Webサイトとは異なり、リフロー型の電子出版物は、通常、列やグリッドにレイアウトされません。そのため、小説などの基本的な作品のほとんどでは、リフロー要件を満たすための追加作業はあまり必要になることはありません。</p>
					
					<p>コンテンツ製作者は、コンテンツがズーム（拡大）されたときに適応できるようにスタイルを設定するだけで済みます。リフロー型の書籍において、リフロー要件に違反する可能性があるのは以下のような問題です。</p>
					
					<ul>
						<li>ピクセルなどの絶対単位を使用して要素をスタイリングする — 画面の表示領域が縮小された時に、これらの単位は変更に適応できず、固定されたままになります（つまり、スクロールバーの使用が強制されます）。</li>
						<li>レイアウトテーブルを使用してコンテンツをグリッドに配置する — テーブルはある程度しか圧縮できませんが、SSスタイルを使用すると、コンテンツ製作者は拡大率の変更に応じてグリッドレイアウトから単一の列に変更できます。</li>
						<li>長い単語の折り返しを許可しない — ソフトハイフン（&amp;shy;）とCSSの単語区切り処理ルールにより、非常に長い単語やURLによるスクロールを最小限に抑えることができます。</li>
					</ul>
				</section>
				
				<section id="fxl">
					<h4>固定レイアウト</h4>
					
					<div class="caution" aria-labelledby="note-hd">
						<p id="note-hd" class="label">注意</p>
						<p>固定レイアウトにおけるこの要件に関する問題は、現在、W3CのEPUB3ワーキンググループで議論されています。このページの今後の更新で追加のガイダンスが提供される予定です。</p>
					</div>
					
					<p>固定レイアウトがリフロー要件を満たすかどうかは、その構築方法によって異なります。</p>
					
					<ul>
						<li>
							<p>二次元のプレゼンテーションがコンテンツに不可欠な画像ベースの固定レイアウトについては、拡大縮小時にスクロールを必要としないという要件から免除される可能性があります。コミックやマンガのページ、子供の絵本のページ（テキストがイラストの一部となっているようなもの）、地図、グラフィックスなどがこのカテゴリに含まれます。</p>
						</li>
						<li>
							<p>その他のすべての種類の固定レイアウト（つまり、コンテンツの配置に意味がなく、純粋にプレゼンテーション用である場合）は、リフローの要件を満たす必要があります。</p>
						</li>
					</ul>
					
					<p>理論的には、アダプティブデザイン手法を使って、固定レイアウトコンテンツを拡大縮小したときにリフローさせることができますが、現時点では、EPUBの固定レイアウトページを拡大縮小したときに再レンダリングするリーディングシステムがないため、要件に準拠したコンテンツは作成できません。</p>
					
					<p>EPUBリーディングシステムでは通常、モバイルデバイスのみで固定レイアウトのページを拡大縮小できますが、ここでもページ全体が拡大縮小されます。そのため、製作者がコンテンツをアクセシブルにするためにどのような対策を講じても、固定レイアウトのコンテンツはユーザーエージェントのアクセシビリティサポートに関するWCAG要件を満たすことはできません。</p>
					
					<p>さらに、固定レイアウトコンテンツの場合、デスクトップ リーディングシステムでの拡大縮小も十分にサポートされていないため、アクセシビリティサポートの要件を満たすことができない可能性があります。</p>
					
					<p>以上のことから、現時点では固定レイアウトの出版物に対してのWCAG AAサポートは表明できないでしょう。</p>
				</section>
			</section>
		</main>
	</body>
</html>
