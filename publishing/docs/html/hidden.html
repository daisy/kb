<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Hidden Content</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="canonical" href="https://kb.daisy.org/publishing/docs/html/hidden.html">
		<meta name="description" content="Guidelines for the accessible hiding of content.">
		<script>
			var page_info = {
				'category': 'html',
				'appliesTo':[ 'EPUB3', 'EPUB2'],
				'addh4': true
			};</script>
		<script src="/js/init.js"></script>
		<style>
			.summary {
				font-size: 1.6rem;
				float: right;
				margin-left: 5rem;
				border: 0.2rem solid rgb(220,235,255);
				background-color: rgb(250,250,250);
			}
			.summary h5 {
				text-indent: 1rem;
				margin: 0;
				background-color: rgb(240,240,240);
				font-weight: normal;
				color: rgb(0,0,0)
			}
			.summary ul {
				list-style-type: none;
				margin-left: 0;
				padding: 0 1.2rem;
			}
			.summary .hd {
				display: inline-block;
				width: 10rem;
				font-weight: bold;
			}
			.clip {
				clip-path: inset(100%);
				clip: rect(1px, 1px, 1px, 1px);
				height: 1px;
				overflow: hidden;
				position: absolute;
				white-space: nowrap;
				width: 1px;
			}
			.zero-height-width {
				height: 0;
				width: 0;
			}
			.display-none {
				display: none;
			}
			.visibility-hidden {
				visibility: hidden;
			}
			.negative-indent {
				text-indent: -9999px;
			}
			.abs-negative-indent {
				text-indent: -9999px;
				position: absolute;
			}
			.abs-position {
				position: absolute;
				left: -9999px;
			}
			.transparent {
				opacity: 0;
			}
			.scale {
				transform: scale(0);
			}
			.translate {
				transform: translate(-9999px,0);
			}
			.color-match {
				color: rgb(255,255,255);
				background-color: rgb(255,255,255);
			}
			.white {
				background-color: rgb(255,255,255);
			}
			ul.q {
				list-style-type: none;
			}
		</style>
		<script>
			function toggleCSS(elem_id, class_name) {
				var elem = document.getElementById(elem_id);
					if (elem.classList.contains(class_name)) {
						elem.classList.remove(class_name);
					}
					else {
						elem.classList.add(class_name);
					}
			}
		</script>
	</head>
	<body>
		<main>
			<section aria-label="Introduction">
				<p>This page explores the accessibility and impacts of a number of techniques used to hide and minimize
					content in digital publications.</p>
				
				<p>It is generally advised to avoid including hidden content that is only intended for users of
					assistive technologies, however, except where the content is not central to understanding the
					publication. Standard hyperlinks to text alternatives and declarative approaches to minimizing
					content (e.g., the <a href="#details"><code>details</code> element</a>) are more broadly usable than
					hidden content, as not everyone who can benefit from this content uses an assistive technology.</p>
				
				<p>When content has to be selectively made to appear, ensure that <a href="../script/pe.html"
						>progressive enhancement</a> techniques are followed.</p>
			</section>
			
			<section id="html">
				<h3>HTML Techniques</h3>
				
				<section id="hidden">
					<h4>The <code>hidden</code> attribute</h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Good</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text not read</span></li>
						</ul>
					</aside>
						
					<p>HTML5 introduced <a
						href="https://html.spec.whatwg.org/multipage/interaction.html#the-hidden-attribute">the
						<code>hidden</code> attribute</a> as a way to declaratively hide content (i.e., to hide
						content without relying on other technologies like CSS). When the attribute is set on an
						element, its content will not be rendered in any presentation, so will not be read by
						assistive technologies.</p>
					
					<figure id="ex-hidden-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of the <code>hidden</code> attribute</p>
							<p>In the following example, the <code>hidden</code> attribute is used to hide the
								<span>span</span> containing the words "not the".</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-hidden-01-src" class="prettyprint linenums"><code>&lt;p>This is &lt;span hidden="">not the&lt;/span> content.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This is <span hidden="">not the</span> content.</p>
					</figure>
					
					<p>The value of attribute has to be either an empty string, as in the previous example, or the
						value "<code>hidden</code>" (<code>hidden="hidden"</code>). Although referred to as a
						"boolean" attribute, its value cannot be set to "true" or "false". To make content visible
						again, the <code>hidden</code> attribute has to be removed from the element.</p>
					
					<p>The <code>hidden</code> attribute is most appropriate to author directly on an element when
						its content will never be made visible. (See the <a href="#script">scripting section</a> on
						dynamically setting the attribute if content will be toggled between visible and hidden
						states.)</p>
					
					<p>The <code>hidden</code> attribute is most commonly used with the <a href="#aria">ARIA
							attributes</a> that do not require visible content (e.g., <a
							href="#aria-label-labelledby"><code>aria-labelledby</code></a> and <a
							href="#aria-describedby"><code>aria-describedby</code></a>). These attributes make the
						text available to assistive technologies in specific contexts.</p>
					
					<p>The effect of setting this attribute is the equivalent of setting the <a href="#display">CSS
								<code>display</code> property</a> to <code>none</code>. It is more reliable than
						CSS options in modern user agents, however, as not all user agents support CSS styling.</p>
					
					<p id="hidden-fallback">For older user agents that do not support the new HTML5 elements and
						attributes, it will be necessary to also include a CSS fallback for the hidden attribute. A
						selector like the following will ensure all elements with the attribute are also hidden by
						CSS:</p>
					
					<pre><code>*[hidden] { display: none; }</code></pre>
				</section>
				
				<section id="details">
					<h4>The <code>details</code> element</h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Inconsistent</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>The <a
						href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element"><code>details</code>
						element</a> does not strictly meet the requirement of hiding content. What it does provide
						is the ability to collapse content down to just the label specified in the
						<code>summary</code> tag. One advantage of the element is that it does not require
						scripting support, which is often lacking in EPUB reading systems, to expand and collapse
						the content.</p>
					
					<figure id="ex-details-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of the <code>details</code> element</p>
							<p>The following examples shows a collapsed <code>details</code> element. Clicking
								on the label expands the content.</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-details-01-src" class="prettyprint linenums"><code>&lt;details>
&lt;summary>Description&lt;/summary>
&lt;p>The first of the three gas giants is &#8230;&lt;/p>
&lt;/details></code></pre>
						
						<p class="figlabel"><a href="https://jsfiddle.net/6ma4e3fn/1/">Demo</a></p>
					</figure>
					
					<p>It is not required that the content begin in a collapsed state. By adding the
						<code>open</code> attribute, the content will initially be expanded (the attribute is also
						a boolean, like <a href="#hidden">the <code>hidden</code> attribute</a>, so its value is
						either an empty string or the value <code>open</code>).
						
					<figure id="ex-details-02">
						<figcaption>
							<p class="label">Example &#8212; Expanded <code>details</code> element</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-details-02-src" class="prettyprint linenums"><code>&lt;details open="">
&lt;summary>Description&lt;/summary>
&lt;p>The first of the three gas giants is &#8230;&lt;/p>
&lt;/details></code></pre>
						
						<p class="figlabel"><a href="https://jsfiddle.net/6ma4e3fn/2/">Demo</a></p>
					</figure>
					
					<p>A current limitation, however, is that reading systems do not always repaginate well when the
						element is expanded or collapsed. Expanding may force content below the element off the bottom
						of the current page, making it unavailable to sighted readers. The attribute is also not well
						supported in older browsers, including not at all in Internet Explorer versions, so requires
						a polyfill to work.</p>
					
					<p>The <code>details</code> element is commonly paired with the <a
						href="#aria-details"><code>aria-details</code> attribute</a> to associate descriptions with
						elements.</p>
				</section>
			</section>
			
			<section id="css">
				<h3>CSS Techniques</h3>
				
				<p>Although CSS provides a number of approaches to hiding content visually, the primary problems with
					using it are that:</p>
				
				<ol>
					<li>CSS is not always supported and can often be disabled by users.</li>
					<li>Support for new properties often takes a long time to develop and many never get supported in
						older user agents.</li>
					<li>EPUB reading systems often supply their own styling, so author styles may be ignored or
						overridden.</li>
				</ol>
				
				<p>As a result, there is no guarantee that styled content will be hidden from any users depending on
					the user agent they are using. <a href="#html">HTML techniques</a> are generally more reliable.</p>
				
				<section id="display">
					<h4>Setting <code>display</code> to <code>none</code></h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Good</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text not read</span></li>
						</ul>
					</aside>
					
					<p>The <a href="https://www.w3.org/TR/CSS22/visuren.html#display-prop"><code>display</code>
						property</a> is a widespread method used to visually hide content, as its origins go back
						much further than <a href="#hidden">the <code>hidden</code> attribute</a> and it is more
						direct and easily manipulable than setting <a href="#zero-height-width">the height and width
							of elements</a>. Setting the <code>display</code> to <code>none</code> causes the element
						it is carried on to be removed from visual display and the accessibility tree, so assistive
						technologies will not read the content.</p>
					
					<figure id="ex-display-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of no display</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-display-01-src" class="prettyprint linenums"><code>.display-none {
display: none;
}

&lt;p>This is the visible
text&lt;span class="display-none"> and this is 
not&lt;/span>.&lt;/p></code></pre>
						<p class="figlabel">Demo:</p>
						<p>This is the visible text<span class="display-none"> and
							this is not</span>.</p>
					</figure>
					
					<p>Like with <a href="#hidden">the <code>hidden</code> attribute</a>, content that is hidden
						using the <code>display</code> property can be accessed by <a href="#aria">ARIA
							attributes</a> that accept hidden content. The same flaw that this approach hides
						useful information from users who do not use assistive technologies also applies,
						however.</p>
				</section>
				
				<section id="clip">
					<h4>Clipping</h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Inconsistent</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>Clipping is a technique that reduces content to a single pixel so that visual users are
						not aware that that the additional content is present.</p>
					
					<p>The advantage of clipping content instead of hiding it completely is that assistive
						technologies will read the clipped content, whereas they ignore content set or styled to be
						hidden.</p>
					
					<p>The <a href="https://www.w3.org/TR/css-masking-1/#ClipPathElement"><code>clip-path</code>
						property</a> is the primary property used to achieve this effect, but a number of others
						are also required (some as fallbacks), as depicted in the following example.</p>
					
					<figure id="ex-clip-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of clipping</p>
							<p>The <code>span</code> containing the text "and this is not" will not be visible when
								the content is rendered, but the text will still be read by an assistive technology.</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-clip-01-src" class="prettyprint linenums"><code>.clip {
clip-path: inset(100%);
clip: rect(1px, 1px, 1px, 1px);
height: 1px;
overflow: hidden;
position: absolute;
white-space: nowrap;
width: 1px;
}

&lt;p>This is the visible text&lt;span class="clip"> and
 this is not&lt;/span>.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This is the visible text<span class="clip"> and
							this is not</span>.</p>
					</figure>
					
					<div class="note" role="note" aria-labelledby="clip-note">
						<p id="clip-note" class="label">Note</p>
						<p>The <a 
								href="https://www.w3.org/TR/css-masking-1/#the-clip-path"><code>clip</code>
							property</a> is now deprecated. It is included as a fallback for
							older browsers.</p>
					</div>
					
					<p>While this technique works well in web browsers, support in EPUB reading systems is
						inconsistent. Support for the new <code>clip-path</code> property is not widespread, and
						neither is support for older <code>clip</code> property as it requires absolute
						positioning.</p>
				</section>
				
				<section id="zero-height-width">
					<h4>Zero <code>height</code> and <code>width</code></h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Good</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text may be read</span></li>
						</ul>
					</aside>
					
					<p>Setting an element's <a
						href="https://www.w3.org/TR/CSS22/visudet.html#the-height-property"><code>height</code></a>
						and <a
							href="https://www.w3.org/TR/CSS22/visudet.html#the-width-property"><code>width</code></a>
						properties to <code>0</code> is similar to the <a href="#clipping">clipping technique</a>,
						except that assistive technologies typically will not read the content of elements without
						any size dimensions.</p>
					
					<figure id="ex-hw0-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of zero height and width</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-hw0-01-src" class="prettyprint linenums"><code>.zero-height-width {
height: 0;
width: 0;
}

&lt;p>This is the visible
text&lt;span class="zero-height-width"> and this
is not&lt;/span>.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This is the visible text<span class="clip"> and
							this is not</span>.</p>
					</figure>
					
					<p>Even though setting an element's dimensions to zero does not remove the content from
						accessibility tree, assistive technologies are often optimized to ignore content styled
						this way (it is why the clipping technique only reduces the size to one pixel, for
						example). This behavior is not universal, however, so the content may be read in some
						cases.</p>
				</section>
				
				<section id="opacity">
					<h4>Transparent <code>opacity</code></h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Inconsistent</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>Setting the <a
						href="https://www.w3.org/TR/css-color-3/#transparency"><code>opacity</code></a> property of
						an element to <code>0</code> makes it completely transparent to users, but assistive
						technologies will still read the text.</p>
					
					<figure id="ex-opacity-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of full opacity</p>
							<p>In the following example, the second paragraph has its opacity set to <code>0</code>
								to make it transparent, but there is still space where it is located.</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-opacity-01-src" class="prettyprint linenums"><code>.transparent {
opacity: 0;
}

&lt;p>This paragraph appears.&lt;/p>
&lt;p class="transparent">While this one is made fully
opaque.&lt;/p>
&lt;p>So there is space between.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This paragraph appears.</p>
						<p class="transparent">While this one is made fully opaque.</p>
						<p>So there is space between.</p>
					</figure>
					
					<p>The primary issues with the use of <code>opacity</code> are support in EPUB reading systems
						and that it leaves space where the opaque text is.</p>
					
					<div class="note" role="note" aria-labelledby="op-note">
						<p id="op-note" class="label">Note</p>
						<p>It is also possible to change the opacity of just the text of an element by setting the
							alpha channel to be transparent (e.g., using the <code>rgba()</code> or
							<code>#RRGGBBAA</code> value syntax). Support for alpha channel values is also not
							widespread in EPUB, however.</p>
					</div>
				</section>
				
				<section id="transform">
					<h4>Transformations</h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Inconsistent</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>The <a
						href="https://www.w3.org/TR/css-transforms-1/#transform-property"><code>transform</code>
						property</a> provides two options for hiding content: one is to scale the element to zero,
						and the other is to translate it off screen. In both cases, assistive technologies will
						still read the text.</p>
					
					<p>Using the <code>scale</code> transform essentially shrinks the referenced element down until
						it occupies no space. It is similar in effect to <a href="#zero-height-width">setting the
							height and width to zero</a>, except that the full space the element would occupy does
						not disappear when scaling.</p>
					
					<figure id="ex-transform-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of scaling</p>
							<p>In the following example, the second paragraph is scaled to zero, but the space
								it occupies remains. Click the button in the demo to toggle the scaling.</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-transform-01-src" class="prettyprint linenums"><code>.scale {
transform: scale(0);
}

&lt;p>This paragraph appears.&lt;/p>
&lt;p class="scale">While this one is scaled.&lt;/p>
&lt;p>So there is space between.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This paragraph appears.</p>
						<p id="scale-test" class="scale">While this one is scaled.</p>
						<p>So there is space between.</p>
						<p><input type="button" value="Toggle Scaling" onclick="toggleCSS('scale-test','scale')"/></p>
					</figure>
					
					<p>Using the <code>translate</code> transform is similar in effect to <a href="#abs-pos">absolute
						positioning content off screen</a>, except that the full space the element would occupy does
						not disappear. The value is the <code>x</code> and <code>y</code> coordinates of the
						translating vector.</p>
					
					<figure id="ex-transform-02">
						<figcaption>
							<p class="label">Example &#8212; Effect of translating</p>
							<p>In the following example, the second paragraph is translated off screen using a
								an x-coordinate of <code>-9999px</code> and y-coordinate of <code>0</code>. The 
								space the element occupies remains, however. Click the button in the demo to toggle
								the effect.</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-transform-02-src" class="prettyprint linenums"><code>.translate {
transform: translate(-9999px);
}

&lt;p>This paragraph appears.&lt;/p>
&lt;p class="translate">While this one is translated
off screen.&lt;/p>
&lt;p>So there is space between.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This paragraph appears.</p>
						<p id="translate-test" class="translate">While this one is translated off screen.</p>
						<p>So there is space between.</p>
						<p><input type="button" value="Toggle Translation" onclick="toggleCSS('translate-test','translate')"/></p>
					</figure>
					
					<p>Similar to the <code>opacity</code>, the primary issues with using <code>transform</code> is
						that such animations are not well supported in EPUB reading systems and they leave space
						where the transformed text originated.</p>
				</section>
				
				<section id="visibility">
					<h4>Setting <code>visibility</code> to <code>hidden</code></h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Good</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text not read</span></li>
						</ul>
					</aside>
					
					<p>The <a
						href="https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility"><code>visibility</code>
						property</a> is not commonly used to hide content in digital publications, as unlike
						<a href="#display">the <code>display</code> property</a> it leaves a space in the rendered
						content where the element would appear. The content is not read by assistive technologies,
						despite the visible space.</p>
					
					<figure id="ex-visibility-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of hidden visibility</p>
							<p>In the following example, a space the length of the text " and this is not"
								occurs where the hidden <code>span</code> is. Click the button in the demo
								to toggle the visibility.</p>
						</figcaption>
						<p class="figlabel">Markup:</p>
						<pre id="ex-visibility-01-src" class="prettyprint linenums"><code>.vis-hidden {
visibility: hidden;
}

&lt;p>This is the visible
text&lt;span class="vis-hidden"> and this is 
not&lt;/span> but now with space.&lt;/p></code></pre>
						<p class="figlabel">Demo:</p>
						<p>This is the visible text<span id="vis-test" class="visibility-hidden"> and this is not</span> but now with space.</p>
						<p><input type="button" value="Toggle Visibility" onclick="toggleCSS('vis-test','visibility-hidden')"/></p>
					</figure>
					
					<p>The property is more commonly used on the Web to avoid the other content on the page shifting
						around when an element is hidden or made visible (e.g., to prevent a page footer from being
						pulled up from the bottom of the page).</p>
					
					<p>Similar to the <code>display</code> property, content hidden this way is hidden to assistive
						technologies unless it is referenced from an <a href="#aria">ARIA attribute</a> that allows
						hidden content.</p>
				</section>
				
				<section id="abs-pos">
					<h4>Absolute <code>position</code></h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Inconsistent</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>Absolute positioning content off-screen using the <a
						href="https://www.w3.org/TR/CSS22/visuren.html#choose-position"><code>position</code>
						property</a> is another common Web practice to hide it visually while leaving it for
						assistive technologies to announce. As it is only the visual position of the content
						that changes, assistive technologies will still read the text.</p>
					
					<figure id="ex-abs-pos-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of absolute positioning</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-abs-pos-01-src" class="prettyprint linenums"><code>.abs-position {
position: absolute;
left: -9999px;
}

&lt;p>This paragraph appears.&lt;/p>
&lt;p class="abs-position">While this one is positioned
off screen.&lt;/p>
&lt;p>But there is no space between.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This paragraph appears.</p>
						<p class="abs-position">While this one is positioned off screen.</p>
						<p>But there is no space between.</p>
					</figure>
					
					<p>Using absolute positioning to place content off-screen is very unreliable in EPUB reading
						systems, however. Absolute positioning of content is often disabled outside of fixed
						layout publications, as it complicates the rendering and paginating of reflowable content.
						As a result, the content may appear fixed in an unexpected position on the page,
						potentially obscuring the other content for visual readers.</p>
				</section>
				
				<section id="indent">
					<h4>Negative <code>text-indent</code></h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Inconsistent</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>The <a
						href="https://www.w3.org/TR/CSS22/text.html#indentation-prop"><code>text-indent</code>
						property</a> is sometimes used to push content out of the visible area of the screen by
						giving it a large negative number. Using a large number allows the text to be rendered on a
						single line and not reach the visible area of the screen. The content is still read by
						assistive technologies, even though it is not visually present.</p>
					
					<figure id="ex-indent-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of negative indenting</p>
							
							<p>In the following example, the negative indent on the second paragraph forces it
								to be rendered off-screen, giving the appearance it is no longer there. Click the
								button in the demo to toggle the indent.</p>
						</figcaption>
						
						<p class="figlabe">Markup:</p>
						<pre id="ex-indent-01-src" class="prettyprint linenums"><code>.negative-indent {
text-indent: -9999px;
}

&lt;p>This paragraph appears.&lt;/p>
&lt;p class="negative-indent">While this one is pushed
off screen.&lt;/p>
&lt;p>But the space the element occupied remains.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<p>This paragraph appears.</p>
						<p id="neg-test" class="negative-indent">While this one is pushed off screen.</p>
						<p>But the space the element occupied remains.</p>
						<p><input type="button" value="Toggle Indent" onclick="toggleCSS('neg-test','negative-indent')"/></p>
					</figure>
					
					<p>Even among CSS techniques, negative indents tends to be particularly unreliable. It has been
						noted that it can cause a large scrollbar to appear in browsers, for example, to allow
						users to reach the content (although this can be mitigated by setting the directionality). The more common
						issue with EPUB reading systems is that they ignore negative indents and other attempts to
						manipulate content outside the viewing area.</p>
					
					<p>It also normally requires other tandem properties, like shrunken font sizes or changes to
						the element height, to collapse the white space that results from simply moving the first
						line back. These may not be well-supported in EPUB reading systems, either.</p>
					
					<div class="note" role="note" aria-labelledby="indent-note-hd">
						<p id="indent-note-hd" class="label">Note</p>
						<p>A similar technique employing an indent of <code>100%</code> to push the code off-screen
							in the other direction has also been suggested for browsers, but this will also fail in
							reading systems that prevent content from being positioned off-screen.
					</div>
				</section>
				
				<section id="color">
					<h4>Matching <code>color</code> with background</h4>
					
					<aside class="summary">
						<h5>Summary</h5>
						<ul>
							<li><span class="hd"><abbr title="reading system">RS</abbr> Support:</span> <span class="value">Poor</span></li>
							<li><span class="hd"><abbr title="assistive technology">AT</abbr> behavior:</span> <span class="value">Text read</span></li>
						</ul>
					</aside>
					
					<p>Although it is possible to hide content by making the foreground color match the background,
						it is arguably the worst option available for EPUB content.</p>
					
					<p>The problems with hiding content this way in EPUB include:</p>
											
					<ul>
						<li>Reading systems often apply their own foreground and background colors so that
							all publications have the same look and feel. As a result, there is no guarantee the
							text will actually be hidden.</li>
						<li>Similarly, reading systems often provide users the option to change their color
							preference for foreground and background text.</li>
						<li>Reading systems often offer multiple reading modes (e.g., night reading) that reset
							the foreground and background colors, which will reveal the text even if it is hidden
							by default.</li>
					</ul>
					
					<p>A more common problem across any user agent is that this method of hiding only obscures
						the text. Like with <a href="#visibility">changing the visibility</a>, the area the text
						occupies is still visible.</p>
					
					<p>Assistive technologies will read text hidden this way, though, as changing the color does
						not actually remove it.</p>
					
					<figure id="ex-color-01">
						<figcaption>
							<p class="label">Example &#8212; Effect of matching text with background</p>
							<p>In the following example, both the <a
								href="https://www.w3.org/TR/CSS22/colors.html#colors"><code>color</code></a> and
								<a 
								href="https://www.w3.org/TR/CSS22/colors.html#background-properties"><code>background-color</code></a>
								properties are set to white to obscure the text.</p>
						</figcaption>
						
						<p class="figlabel">Markup:</p>
						<pre id="ex-color-01-src" class="prettyprint linenums"><code>.color-match {
color: rgb(255,255,255);
background-color: rgb(255,255,255);
}

&lt;p>This paragraph appears.&lt;/p>
&lt;p class="color-match">While this one is colored to
be hidden.&lt;/p>
&lt;p>So there is space between.&lt;/p></code></pre>
						
						<p class="figlabel">Demo:</p>
						<div class="white">
							<p>This paragraph appears.</p>
							<p class="color-match">While this one colored to be hidden.</p>
							<p>So there is space between.</p>
						</div>
					</figure>
				</section>
			</section>
			
			<section id="aria">
				<h3>ARIA Techniques</h3>
				
				<p>Although ARIA does not influence the display of content, it contains a number of attributes that can
					be used both to hide content from, and make hidden content accessible to, assistive
					technologies.</p>
				
				<section id="aria-describedby">
					<h4>The <code>aria-describedby</code> attribute</h4>
					
					<p>The <code>aria-describedby</code> attribute is commonly used to associate hidden
						descriptions with an element, although it is not required that the referenced element be
						hidden. The value of the attribute is the ID of the element that contains the
						description.</p>
					
					<figure id="ex-aria-describedby-01">
						<figcaption>
							<p class="label">Example &#8212;  Associating a desciption with an image</p>
							<p>Note that the value of the attribute <strong>is not</strong> a fragment identifier
								(i.e., it does not include a hash character (<code>#</code>) at the start, as would
								be expected in a hyperlink).</p>
						</figcaption>
						<pre id="ex-aria-describedby-01-src" class="prettyprint linenums"><code>&lt;img &#8230; aria-describedby="img-desc"/>
&lt;p id="img-desc" hidden="hidden">The infographic shows &#8230;&lt;/p></code></pre>
					</figure>
					
					<p>The <code>aria-describedby</code> attribute may reference more than one element if the
						description is broken up across elements.</p>
					
					<p>The problem with using <code>aria-describedby</code> to reference any content, hidden or not,
						is that it reduces that content to a simple text string (i.e., there is no way to
						effectively move through the description). Users of assistive technologies consequently have
						to listen to that entire string of text before they can move on, which can be a frustrating
						experience.</p>
					
					<p>The use of <code>aria-describedby</code> with hidden content also limits access to the
						description to users of assistive technologies when there will be many users who could
						benefit from access.</p>
				</section>
				
				<section id="aria-details">
					<h4>The <code>aria-details</code> attribute</h4>
					
					<p>The <code>aria-details</code> attribute is similar to <a href="#aria-describedby">the 
						<code>aria-describedby</code> attribute</a> in that both identify additional information
						about the content of an element, but there are a couple of key differences:</p>
					
					<ol>
						<li>It is not intended to reference hidden content.</li>
						<li>It does not reduce the referenced content to a simple text string &#8212; users are able
							to navigate the structure of the referenced content.</li>
					</ol>
					
					<p>The value of the <code>aria-details</code> attribute is the ID of the element that contains
						the description. The attribute can reference only a <strong>single</strong> element.</p>
					
					<p>The attribute is commonly used to reference the collapsible <a href="#details"
						><code>details</code> element</a>. This use makes it one of the best options for
						providing descriptions in as minimally obtrusive a manner as possible for all users.</p>
					
					<div class="note" role="note" aria-labelledby="aria-details-note">
						<p id="aria-details-note" class="label">Note</p>
						<p>The use of "details" in the element and attribute names is somewhat coincidental. The
							<code>aria-details</code> element can refer to any element containing additional
							information.</p>
					</div>
					
					<figure id="ex-aria-details-01">
						<figcaption>
							<p class="label">Example &#8212; Adding a description for an image</p>
							<p>Note that the value of the attribute <strong>is not</strong> a fragment identifier
								(i.e., it does not include a hash character (<code>#</code>) at the start, as would
								be expected in a hyperlink).</p>
						</figcaption>
						<pre id="ex-aria-details-01-src" class="prettyprint linenums"><code>&lt;img src="dollars.jpg" alt="&#8230;"
 aria-details="dollar-desc"/>

&lt;details id="dollar-desc">
&lt;summary>Description&lt;/summary>
&#8230;
&lt;/details></code></pre>
					</figure>
				</section>
				
				<section id="aria-hidden">
					<h4>The <code>aria-hidden</code> attribute</h4>
					
					<p>Despite its name, the <code>aria-hidden</code> attribute does not control the visual
						rendering of content. When set, it indicates that the designated content is not to be
						rendered by an assistive technology (i.e., it is not to be included in the accessibility
						tree).</p>
					
					<figure id="ex-aria-hidden-01">
						<figcaption>
							<p class="label">Example &#8212; Hiding the redundant text of a pull quote</p>
						</figcaption>
						<pre id="ex-aria-hidden-01-src" class="prettyprint linenums"><code>&lt;div role="doc-pullquote" aria-hidden="true">
&#8230;
&lt;/div></code></pre>
					</figure>
					
					<p>Unlike <a href="#hidden">the <code>hidden</code> attribute</a>, the value must be
						"<code>true</code>" or "<code>false</code>". An empty value (<code>aria-hidden=""</code>)
						is the same as not specifying the attribute.</p>
					
					<p>The <code>aria-hidden</code> attribute should rarely be needed in digital publications. It
						is only of use if there is redundant or extraneous visual content, like pull quotes.</p>
					
					<p>Note that ARIA attributes that can reference hidden content (e.g., <a
							href="#aria-describedby"><code>aria-describedby</code></a> and <a
							href="#aria-label-labelledby"><code>aria-labelledby</code></a>) ignore this attribute
						&#8212; they will include the hidden text in their values.</p>
				</section>
				
				<section id="aria-label-labelledby">
					<h4>The <code>aria-label</code> and <code>aria-labelledby</code>
						attributes</h4>
					
					<p>The <code>aria-label</code> and <code>aria-labelledby</code> attribute both allow an
						accessible name to be provided for an element.</p>
					
					<p><code>aria-label</code> allows a hidden name to be specified.</p>
					
					<figure id="ex-aria-label-01">
						<figcaption>
							<p class="label">Example &#8212; Specifying a hidden name</p>
						</figcaption>
						<pre id="ex-aria-label-01-src" class="prettyprint linenums"><code>&lt;section aria-label="Explanation"></code></pre>
					</figure>
					
					<p>The attribute is useful in digital publishing where only whitespace has been used to indicate
						new sections (e.g., headingless front matter sections, groups of index or bibliography
						entries). It is important that these sections be given a name, as without an explicit
						heading a <code>section</code> will not be navigable by assistive technology.</p>
					
					<p>The <code>aria-labelledby</code> attribute serves an identical purpose, but it allows the
						name to be included in another element (which can be hidden). The value of the
						<code>aria-labelledby</code> attribute is the ID of the element that contains the name.</p>
					
					<figure id="ex-aria-labelledby-01">
						<figcaption>
							<p class="label">Example &#8212; Specifying an visible name</p>
							<p>Note that the value of the attribute <strong>is not</strong> a fragment identifier
								(i.e., it does not include a hash character (<code>#</code>) at the start, as would
								be expected in a hyperlink).</p>
						</figcaption>
						<pre id="ex-aria-labelledby-01-src" class="prettyprint linenums"><code>&lt;div role="note" aria-labelledby="note-hd">
&lt;p id="note-hd" class="hd">Warning!&lt;/p>
&#8230;
&lt;/div></code></pre>
					</figure>
					
					<p>The <code>aria-labelledby</code> attribute may reference more than one element if the label
						is split across multiple elements.</p>
					
					<p>It is not strictly necessary to use the <code>aria-labelledby</code> attribute when a section
						of content has an explicit heading.</p>
					
					<figure id="aria-labelledby-02">
						<figcaption>
							<p class="label">Example &#8212; Section with explicit heading</p>
						</figcaption>
						<pre id="ex-aria-labelledby-02-src" class="prettyprint linenums"><code>&lt;section>
&lt;h2>Definitions&lt;/h2>
&#8230;
&lt;/section></code></pre>
					</figure>
					
					<p>Assistive technologies will associate the first heading element with the section. It can help
						with older browsers and assistive technologies to explicitly associate headings,
						however.</p>
				</section>
				
				<section id="presentation">
					
					<h4>The <code>presentation</code> role</h4>
					
					<p>A common misconception is that adding the <code>presentation</code> role to an element is a
						way to hide content from assistive technologies. <strong>It is not!</strong></p>
					
					<p>This misconception arises in part because this role is often applied to images that users do
						not need to encounter.</p>
					
					<figure id="ex-presentation-01">
						<figcaption>
							<p class="label">Example &#8212; Image used for visual spacing</p>
						</figcaption>
						<pre id="ex-presentation-01-src" class="prettyprint linenums"><code>&lt;img src="spacer.href" alt="" role="presentation"/></code></pre>
					</figure>
					
					<p>In fact, it is the empty <code>alt</code> attribute that signals to assistive technologies
						that there is no content and the image can be safely ignored.</p>
					
					<p>Setting <code>role="presentation"</code> on any element only removes its semantics. The
						content of the element is untouched.</p>
					
					<div class="note" role="note" aria-labelledby="note-hd">
						<p id="note-hd" class="label">Note</p>
						<p>The ARIA working group is moving to replace the <code>presentation</code> role with
								<code>none</code> to better reflect that it is the semantics of the element that are
							ignored, not the content.</p>
					</div>
				</section>
			</section>
			
			<section id="script">
				<h3>Scripting Techniques</h3>
				
				<p>Although JavaScript does not provide any new abilities of its own to hide content, it allows
					developers to manipulate a document to hide content using all of the techniques mentioned on this
					page. Developers can dynamically add and remove the <code>hidden</code> attribute, for example, or
					assign CSS classes to elements. And ARIA, of course, is designed to be modified by script.</p>
				
				<figure id="ex-script-01">
					<figcaption>
						<p class="label">Example &#8212; Setting attributes and classes</p>
						<p>The following example shows how the <code>hidden</code> attribute can be added to an element
							using the JavaScript <code>setAttribute</code> function and the class <code>hide</code> can
							be added using <code>classList.add</code>.</p>
					</figcaption>
					<pre id="ex-script-01-src" class="prettyprint linenums"><code>   /* set the hidden attribute */
   document.getElementById('hideyho').setAttribute('hidden','');
   /* set a css class */
   document.getElementById('hideyho').classList.add('hide');</code></pre>
				</figure>
				
				<p>The one advantage that JavaScript has over using native techniques directly is that it allows for
					<a href="../script/pe.html">progressive enhancement</a> when hiding content. There are times when
					content may need to be toggled on and off depending on user preference.</p>
				
				<p>For example, a book on programming might include examples in multiple languages, allowing the user to
					selectively enable only the language they are most comfortable with. Using HTML or CSS techniques to
					hide one language by default could lead to those examples never being available to a user without
					scripting support (i.e., the scripts to toggle the choice will not work). By instead using
					JavaScript when the page loads, nothing will be hidden from users if scripting is not available; the
					scripting fails gracefully without loss of information.</p>
				
				<p>Similarly, if the answers to questions in a textbook are only revealed using script, they will not
					be accessible to any users.</p>
				
				<figure id="ex-script-02">
					<figcaption>
						<p class="label">Example &#8212; Progressive enhancement</p>
						<p>The following example uses the <code>details</code> element to hide the answer in reading
							systems that do not support scripting. When scripting is supported, the <code>details</code>
							element is hidden and a set of radio buttons are enabled instead, with a message about
							whether the answer is correct or not being dynamically generated.</p>
						<p>There are buttons after the demo to reset the question and toggle between the dynamic
							and static versions.</p>
					</figcaption>
					
					<p class="figlabel">Markup:</p>
					
					<pre id="ex-script-02-src" class="prettyprint linenums"><code>&lt;fieldset>
   &lt;label>Which of the following is a liquid?&lt;/label>
   &lt;ul class="q">
      &lt;li>
         &lt;input type="radio" name="q1-ans" value="a"
            onclick="revealResult(true)" hidden="hidden">
         A - Water
      &lt;/li>
         
      &lt;li>
         &lt;input type="radio" name="q1-ans" value="b"
            onclick="revealResult(false)" hidden="hidden">
         B - Ice
      &lt;/li>
         
      &lt;li>
         &lt;input type="radio" name="q1-ans" value="c"
            onclick="revealResult(false)" hidden="hidden">
         C - Steam
      &lt;/li>
   &lt;/ul>
   &lt;div id="q1-result" aria-live="assertive" hidden="">&lt;/div>
   &lt;details id="q1-static-ans">
      &lt;summary>Answer&lt;/summary>
      &lt;p>A - Water&lt;/p>
   &lt;/details>
&lt;/fieldset>

&lt;script>
document.onload = configureTest();

function configureTest() {
  document.getElementById('q1-static-ans').classList.add('hidden');
  document.getElementById('q1-result').removeAttribute('hidden');
  var q1_ans = document.getElementsByName('q1-ans');
  q1_ans.forEach( function(checkbox) {
    checkbox.removeAttribute('hidden');
  });
}

function revealResult(correct) {
  var res_elem = document.getElementById('q1-result');
  var result = correct ? 'Correct!' : 'Sorry, try again!';
  res_elem.textContent = '';
  res_elem.appendChild(document.createTextNode(result));
}
&lt;/script></code></pre>
					
					<p class="figlabel"><a href="https://jsfiddle.net/6ma4e3fn/">Demo</a></p>
				</figure>
			</section>
			
			<section id="refs">
				<h3>Related Links</h3>
				
				<ul>
					<li>MDN &#8212; <a
						href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details">&lt;details>: The Details
						disclosure element</a></li>
					<li>MDN &#8212; <a
						href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/hidden">hidden</a></li>
					<li>HTML &#8212; <a
							href="https://html.spec.whatwg.org/multipage/interaction.html#the-hidden-attribute">The
								<code>hidden</code> attribute</a>
					<li>HTML &#8212; <a
						href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element"
							>The <code>details</code> element</a>
					<li>WCAG 2.1 &#8212; <a href="https://www.w3.org/WAI/WCAG22/Techniques/css/C7">Using CSS to hide a
							portion of the link text</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/css-masking-1/#the-clip-path">Clipping Shape: the
						clip-path property</a>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/visudet.html#the-height-property">Content
						height: the 'height' property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/visudet.html#the-width-property">Content
						width: the 'width' property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/visuren.html#display-prop">The 'display'
						property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility">Visibility:
						the 'visibility' property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/text.html#indentation-prop">Indentation: the
						'text-indent' property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/visuren.html#choose-position">Choosing a
						positioning scheme: 'position' property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/css-color-3/#transparency">Transparency: the
						'opacity' property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/css-transforms-1/#transform-property">The
						'transform' Property</a></li>
					<li>CSS &#8212; <a href="https://www.w3.org/TR/CSS22/colors.html#colors">Foreground color: the
						'color' property</a></li>
					<li>ARIA &#8212; <a href="https://www.w3.org/TR/wai-aria/#aria-hidden">aria-hidden (state)</a></li>
					<li>ARIA &#8212; <a href="https://www.w3.org/TR/wai-aria/#aria-describedby">aria-describedby
							(property)</a></li>
					<li>ARIA &#8212; <a href="https://www.w3.org/TR/wai-aria/#aria-details">aria-details
						(property)</a></li>
					<li>ARIA &#8212; <a href="https://www.w3.org/TR/wai-aria/#aria-label">aria-label (property)</a></li>
					<li>ARIA &#8212; <a href="https://www.w3.org/TR/wai-aria/#aria-labelledby">aria-labelledby
							(property)</a></li>
					<li>ARIA &#8212; <a href="https://www.w3.org/TR/wai-aria/#presentation">presentation (role)</a></li>
				</ul>
			</section>
		</main>
	</body>
</html>
