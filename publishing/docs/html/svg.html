<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>SVG</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Guidelines for the production of accessible SVG graphics.">
		<script>
			var page_info = {
				'category': 'html',
				'appliesTo': ['Audiobooks*','EPUB3','EPUB2'],
				'addh4': true
			}
		</script>
		<script src="/js/init.js"></script>
	</head>
	
	<body>
		<main>
			<section id="summary">
				<h3>Summary</h3>
				
				<p>Ensure SVGs are accessible by following WCAG techniques for visual content, text and scripting.</p>
			</section>
			
			<section id="tech">
				<h3>Techniques</h3>
				
				<ul>
					<li>Identify the default language and any language changes using the <code>lang</code> and <code>xml:lang</code> attributes
						[[WCAG-3.1.1]]</li>
					<li>Provide a title using the <code>title</code> element
						[[WCAG-2.4.2]]</li>
					<li>Provide a description using the <code>desc</code> element
						[[WCAG-1.1.1]]</li>
					<li>Use ARIA roles, states and properties to make scripted components accessible
						[[WCAG-4.1.2]]</li>
					<li>Provide sufficient contrast between foreground and background colors.
						[[WCAG-1.4.3]] and [[WCAG-1.4.6]]</li>
					<li>Provide alternatives to color for identifying information.
						[[WCAG-1.4.1]]</li>
				</ul>
				
				<p>For a detailed list of accessibility features supported by SVG, refer to
					<a href="https://www.w3.org/TR/SVG2/access.html">Appendix D of SVG 2.0</a></p>
			</section>

			<section id="ex">
				<h3>Examples</h3>
				
				<figure id="ex-01">
					<figcaption>
						<div class="label">Example 1 &#8212; Default language specification</div>
					</figcaption>
					<pre id="ex-01-src" class="prettyprint linenums"><code>&lt;svg xmlns="http://www.w3.org/2000/svg" xml:lang="en" lang="en">
   &#8230;
&lt;/svg></code></pre>
				</figure>
				
				<figure id="ex-02">
					<figcaption>
						<div class="label">Example 2 &#8212; Language override</div>
					</figcaption>
					<pre id="ex-02-src" class="prettyprint linenums"><code>&lt;svg xmlns="http://www.w3.org/2000/svg" xml:lang="en" lang="en">
   &#8230;
   &lt;text &#8230; >I think therefore I am...&lt;/text>
   &lt;text &#8230; xml:lang="fr" lang="fr">Je pense donc je suis...&lt;/text>
   &lt;text &#8230; xml:lang="it" lang="it">Penso dunque sono...&lt;/text>
   &#8230;
&lt;/svg></code></pre>
				</figure>
				
				<figure id="ex-03">
					<figcaption>
						<div class="label">Example 3 &#8212; Including an SVG title and description</div>
					</figcaption>
					<pre id="ex-03-src" class="prettyprint linenums"><code>&lt;svg
	 xmlns="http://www.w3.org/2000/svg"
	 xml:lang="en" lang="en">
   &lt;title>The New EPUB Logo&lt;/title>
   &lt;desc>
	  The EPUB logo is a lower-case letter E that has 
	  been tilted 45 degrees to counter-clockwise so 
	  that it appears to be sitting in balance on its 
	  lower-left corner. The E is drawn as a single, 
	  unclosed line of green starting at the centre 
	  of the image, moving to the outer edge and then 
	  continuing around in a box-like pattern. The
	  external corners have all been rounded.
   &lt;/desc>
   &#8230;
&lt;/svg></code></pre>
				</figure>
				
				<figure id="ex-04">
					<figcaption>
						<div class="label">Example 4 &#8212; A decorative SVG</div>
					</figcaption>
					<pre id="ex-04-src" class="prettyprint linenums"><code>&lt;svg
     xmlns="http://www.w3.org/2000/svg"
     xml:lang="en" lang="en"
     role="presentation">
   &#8230;
&lt;/svg></code></pre>
				</figure>
				
				<figure id="ex-05">
					<figcaption>
						<div class="label">Example 5 &#8212; Adding a title to a link</div>
					</figcaption>
					<pre id="ex-05-src" class="prettyprint linenums"><code>&lt;a href="http://www.ontario.ca">
   &lt;title>Ontario government web site&lt;/title>
   &lt;g &#8230;>
      &#8230;
   &lt;/g>
&lt;/a></code></pre>
				</figure>
			</section>
			
			<section id="faq">
				<h3>Frequently Asked Questions</h3>
				
				<dl>
					<dt id="faq-001">What is the best method for embedding SVGs in HTML?</dt>
					<dd>
						<p>The best answer is to embed the SVG markup directly in the HTML document, as it exposes the SVG's
							DOM to assistive technologies. As embedding is not often feasible, the next best option
							is to use the <code>object</code> element. Some browser and assistive technology pairings have
							been reported to have issues with this approach (e.g., not exposing the DOM), but it is generally
							accessible and a fallback can be provided inside the <code>object</code> element.</p>
						
						<p>Although an <code>iframe</code> element might seem like a better choice, the downside of this
							element is that if the user agent does not support SVG, there is no effective way to provide
							a fallback.</p>
						
						<p>The <code>img</code> tag should only be used for SVGs that a user does not need to interact with
							and that have no dynamic components (scripting or animation).</p>
					</dd>
				</dl>
			</section>
			
			<section id="desc">
				<h3>Explanation</h3>
				
				<section id="desc-lang">
					<h4>Language</h4>
					
					<p>The language of any text content contained within an SVG image should always be set to ensure that
						assistive technologies render such content properly.</p>
					
					<p>When attached to the root <code>svg</code> element, the <code>xml:lang</code> attribute identifies the
						default language of any text content in the image. The <code>lang</code> attribute should also be specified
						in case the SVG is not interpeted by an XML parser.</p>
					
					<p>The <code>xml:lang</code> and <code>lang</code> attribute can also be attached to individual components
						and text elements within the image to designate that they contain prose in a different language than the
						default.</p>
				</section>
				
				<section id="desc-title">
					<h4>Title and Description</h4>
					
					<p>SVG images that are significant to a publication should always include embedded titles
						(<code>title</code>) and descriptions (<code>desc</code>) to aid users of assistive
						technologies.</p>
					
					<p>The description provided should be commensurate with the information contained in the image: use
						<code>alt</code>-like descriptions for simple images and longer descriptions for complex ones.</p>
					
					<p>If an SVG image is purely decorative, do not include a title or description. The SVG element should
						additional be identified as presentational using the ARIA <code>role</code> attribute.</p>
					
					<p>All significant graphical components within the SVG image should also contain their own title and/or
						description to improve the overall accessibility of the image.</p>
				</section>
				
				<section id="desc-text">
					<h4>Text Elements</h4>
					
					<p>When including text content in images, use <code>text</code> elements so that the prose is available to
						assistive technologies. When distorting and changing the appearance of text, using <code>text</code>
						elements ensures the prose can be made available to anyone who cannot decipher the alterations.</p>
					
					<p>If the <code>title</code> of a component is included as text in an SVG, the <code>tref</code>
						element can be used to reference the prose instead of creating a new <code>text</code> node.</p>
				</section>
				
				<section id="desc-linking">
					<h4>Linking</h4>
					
					<p>SVG graphical components can be made linkable by wrapping them in <code>a</code> elements. Linked elements
						should always include a <code>title</code> element identifying the nature of the referenced
						resource.</p>
					
					<p>That certain graphical components are linkable, and others not, also needs to be established for users
						that may have to zoom the image or otherwise may not be able to ascertain which components are
						linked (e.g., through underlining or a border).</p>
				</section>
				
				<section id="desc-aria">
					<h4>ARIA</h4>
					
					<p>The <code>aria-*</code> attributes can be attached to SVG elements. Properly setting and maintaining
						roles, properties and states increases the ability of all users to interact with dynamic content (e.g.,
						SVG images used as custom controls).</p>
					
					<p>Similarly, ensure that text equivalents for graphical components are updated to reflect the current state
						of the component.</p>
					
					<p>When scripting SVG images, ensure that device-independent events have been used. Not all users will
						interact with your images in the same way.</p>
					
					<p>Use ARIA landmark roles to simplify the navigation of complex images.</p>
				</section>
				
				
			</section>
			
			<section id="refs">
				<h3>Related Links</h3>

				<ul>
					<li>MDN &#8212; <a
						href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg">&lt;svg></a></li>
					<li>SVG &#8212; <a href="http://www.w3.org/TR/SVG2/struct.html#LangSpaceAttrs">The 'xml:lang' and
						'xml:space' attributes</a></li>
					<li>SVG &#8212; <a href="https://www.w3.org/TR/SVG2/struct.html#DescriptionAndTitleElements">The ‘desc’
						and ‘title’ elements</a></li>
					<li>SVG &#8212; <a href="http://www.w3.org/TR/SVG2/text.html">Text</a></li>
					<li>SVG &#8212; <a href="http://www.w3.org/TR/SVG2/linking.html">Linking</a></li>
					<li>SVG &#8212; <a href="http://www.w3.org/TR/SVG2/styling.html">Styling</a></li>
					<li>SVG &#8212; <a href="https://www.w3.org/TR/SVG2/access.html">Appendix D: Accessibility Support</a></li>
				</ul>
			</section>
		</main>
	</body>
</html>
