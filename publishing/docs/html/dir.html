<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Text Direction</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="canonical" href="https://kb.daisy.org/publishing/docs/html/dir.html">
		<meta name="description" content="Guidelines for using the dir attribute in HTML">
		<script>
			var page_info = {
				'category': 'html',
				'appliesTo': ['EPUB3','EPUB2','Audiobooks*']
			};
		</script>
		<script src="/js/init.js"></script>
	</head>
	<body>
		<main>
			<section id="summary">
				<h3>Summary</h3>
				
				<p>Set the base direction for right-to-left text to ensure that it is rendered correctly.</p>
			</section>
			
			<section id="tech">
				<h3>Techniques</h3>
				
				<ul>
					<li>Set the <code>dir</code> attribute on the <code>html</code> element [[WCAG-1.3.2]]</li>
					<li>Set the <code>dir</code> attribute whenever the default direction changes [[WCAG-1.3.2]]</li>
				</ul>
			</section>

			<section id="ex">
				<h3>Examples</h3>
				
				<figure id="ex-01">
					<figcaption>
						<div class="label">Example 1 &#8212; Declaring the default base direction</div>
					</figcaption>
					<pre id="ex-01-src" class="prettyprint linenums"><code>&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="he"
      lang="he"
      dir="rtl"></code></pre>
				</figure>
			</section>
			
			<section id="faq">
				<h3>Frequently Asked Questions</h3>
				
				<dl>
					<dt id="faq-001">Do I need to declare the <code>dir</code> attribute for left-to-right documents?</dt>
					<dd>
						<p>No. HTML defaults to left-to-right directionality for text, so it is not necessary to set
							the <code>dir</code> attribute for left-to-right documents. Only left-to-right text
							embedded in a right-to-left document needs to be specified.</p>
					</dd>
					
					<dt id="faq-002">Can I just set the language of the text?</dt>
					<dd>
						<p>No. The language declaration does not affect the display directionality. <a 
							href="lang.html">Setting the language</a> is important for text-to-speech rendering.</p>
					</dd>
					
					<dt id="faq-003">Can I use CSS to set the direction instead?</dt>
					<dd>
						<p>No. CSS is not always available or respected in reading systems. Both the HTML and CSS
							specifications recommend using markup to set the text direction.</p>
						<p>Refer to <a href="https://www.w3.org/International/questions/qa-bidi-css-markup">CSS vs. 
							markup for bidi support</a> for more information.</p>
					</dd>
					
					<dt id="faq-004">What if I have forms that accept text input?</dt>
					<dd>
						<p>Set the <code>dir</code> attribute to <code>auto</code> on forms and inputs to allow the
							reading system to determine the text direction at run-time.</p>
					</dd>
					
					<dt id="faq-005">When do I use the <code>bdi</code> and <code>bdo</code> elements?</dt>
					<dd>
						<p>It is not common to need these elements in publications.</p>
						
						<p>The <code>bdi</code> element is used to insert user-generated text into a document. As you
							cannot be sure the directionality of the text, it allows the reading system to examine the
							content and adjust the base direction as needed.</p>
						
						<p>The <code>bdo</code> element is used to override the base directionality of the text. It can
							be used, for example, to force right-to-left text to render in left-to-right form.</p>
					</dd>
				</dl>
			</section>
			
			<section id="desc">
				<h3>Explanation</h3>
				
				<p>It is important to set the base text direction for right-to-left text in HTML and SVG documents
					to ensure that it is displayed properly by reading systems and read properly by assistive
					technologies.</p>
				
				<p>The way that right-to-left text is encoded in the markup and stored in memory is not the same as
					how it is displayed or read. If the correct base direction is not specified, the contents of a
					page may be read out of order. This is particularly problematic when left-to-right text is embedded
					in a right-to-left document. Weakly typed characters such as numbers and punctuation may be
					rendered in the wrong place, for example, or list entries could be placed out of order.</p>
				
				<p>To indicate that a document's base direction is right-to-left, simply add a <code>dir</code>
					attribute to the root <code>html</code> or <code>svg</code> element:</p>
				
				<pre id="desc-ex-01" class="prettyprint linenums"><code>&lt;html &#8230; dir="rtl">

&lt;svg &#8230; dir="rtl"></code></pre>
				
				<p>If text with a left-to-right base direction is embedded in a right-to-left document, add a
					<code>dir</code> attribute to its enclosing element. For example, if the document contained a quote
					with a left-to-right base direction, you would add the <code>dir</code> attribute to the enclosing
					<code>blockquote</code>:</p>
				
				<pre id="desc-ex-02" class="prettyprint linenums"><code>&lt;blockquote dir="ltr">
   &lt;p>It was the best of times, it was the worst of times, &#8230;&lt;/p>
&lt;/blockquote></code></pre>
				
				<p>If the base direction changes within a run of text, add a <code>span</code> element with a
					<code>dir</code> attribute:</p>
				
				<pre id="desc-ex-03" class="prettyprint linenums"><code>&lt;p>
   &lt;!-- right-to-left text --&gt;
   &lt;span dir="ltr">Accessible EPUB 3&lt;/span>
   &lt;!-- right-to-left text --&gt;
&lt;/p></code></pre>
			</section>
			
			<section id="refs">
				<h3>Related Links</h3>

				<ul>
					<li>W3C &#8212; <a href="https://www.w3.org/International/questions/qa-html-dir">Structural markup and right-to-left text in HTML</a></li>
					<li>W3C &#8212; <a href="https://www.w3.org/International/articles/inline-bidi-markup/">Inline markup and bidirectional text in HTML</a></li>
					<li>W3C &#8212; <a href="https://www.w3.org/International/articles/inline-bidi-markup/uba-basics">Unicode Bidirectional Algorithm basics</a></li>
					<li>W3C &#8212; <a href="https://www.w3.org/International/tutorials/bidi-xhtml/">Creating HTML Pages in Arabic, Hebrew and Other Right-to-left Scripts (tutorial)</a></li>
				</ul>
			</section>
		</main>
	</body>
</html>
