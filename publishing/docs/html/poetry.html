<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Poetry</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="canonical" href="https://kb.daisy.org/publishing/docs/html/poetry.html">
		<meta name="description" content="Practices for formatting poetry and lyrics accessibly">
		<script>
			var page_info = {
				'category': 'html',
				'appliesTo': ['EPUB3','EPUB2','Audiobooks*']
			};
		</script>
		<script src="/js/init.js"></script>
		<style>
			blockquote {
				font-style: italic;
			}
			.pre {
				white-space: pre;
			}
		</style>
	</head>
	<body>
		<main>
			<section id="summary">
				<h3>Summary</h3>
				
				<p>Structuring and describing lines of poetry and lyrics improves access for users who cannot
					see the difference in layout from regular prose.</p>
			</section>
			
			<section id="tech">
				<h3>Techniques</h3>
				
				<ul>
					<li>Use the <code>br</code> tag to identify line breaks [[WCAG-1.3.1]]</li>
					<li>Use <code>span</code> tags when additional line formatting is needed.</li>
					<li>Include descriptions for poetry that conveys meaning through its visual layout.</li>
				</ul>
			</section>

			<section id="ex">
				<h3>Examples</h3>
				
				<figure id="ex-01">
					<figcaption>
						<div class="label">Example 1 &#8212; A basic poem with multiple stanzas</div>
						<p>As the lines of the poems do not require any special formatting, only <code>br</code>
							tags are needed to identify the line endings. <code>p</code> tags are used to separate
							the stanzas.</p>
					</figcaption>
					
					<blockquote>
						<h4>The Tyger</h4>
						
						<p class="stanza">Tyger Tyger, burning bright,<br/> 
							In the forests of the night;<br/>
							What immortal hand or eye,<br/>
							Could frame thy fearful symmetry?</p>
						
						<p class="stanza">In what distant deeps or skies.<br/>
							Burnt the fire of thine eyes?<br/>
							On what wings dare he aspire?<br/>
							What the hand, dare seize the fire?</p>
						
						<p>&#8230;</p>
					</blockquote>
					
					<pre id="ex-01-src" class="prettyprint linenums"><code>&lt;section>
   &lt;h2>The Tyger&lt;/h2>

   &lt;p class="stanza">Tyger Tyger, burning bright,&lt;br/> 
      In the forests of the night;&lt;br/>
      What immortal hand or eye,&lt;br/>
      Could frame thy fearful symmetry?&lt;/p>

   &lt;p class="stanza">In what distant deeps or skies.&lt;br/>
      Burnt the fire of thine eyes?&lt;br/>
      On what wings dare he aspire?&lt;br/>
      What the hand, dare seize the fire?&lt;/p>

   &lt;p>&#8230;&lt;/p>
&lt;/section></code></pre>
				</figure>
				
				<figure id="ex-02">
					<figcaption>
						<div class="label">Example 2 &#8212; Preserving line indentation using white space</div>
						<p>In the following poem, <code>span</code> tags are used to preserve line indenting.
							The CSS <code>white-space</code> property is set to <code>pre</code> to preserve
							spacing.</p>
					</figcaption>
					
					<blockquote>
						<p>i will wade out<br/>
							<span class="pre">               till my thighs are steeped in burning flowers</span><br/>
							I will take the sun in my mouth<br/>
							and leap into the ripe air<br/>
							<span class="pre">                           Alive</span><br/>
							<span class="pre">                                 with closed eyes</span><br/>
							to dash against darkness<br/>
							<span class="pre">                       in the sleeping curves of my body</span><br/>
							Shall enter fingers of smooth mastery<br/>
							with chasteness of sea-girls<br/>
							<span class="pre">                             Will i complete the mystery</span><br/>
							<span class="pre">                             of my flesh</span><br/>
							I will rise<br/>
							<span class="pre">            After a thousand years</span><br/>
							lipping<br/>
							flowers<br/>
							<span class="pre">        And set my teeth in the silver of the moon</span></p>
					</blockquote>
					
					<pre id="ex-02-src" class="prettyprint linenums"><code>&lt;p class="poem">i will wade out&lt;br/>
&lt;span class="preserve">               till my thighs are steeped in burning flowers&lt;/span>&lt;br/>
I will take the sun in my mouth&lt;br/>
and leap into the ripe air&lt;br/>
&lt;span class="preserve">                           Alive&lt;/span>&lt;br/>
&lt;span class="preserve">                                 with closed eyes&lt;/span>&lt;br/>
to dash against darkness&lt;br/>
&lt;span class="preserve">                       in the sleeping curves of my body&lt;/span>&lt;br/>
Shall enter fingers of smooth mastery&lt;br/>
with chasteness of sea-girls&lt;br/>
&lt;span class="preserve">                             Will i complete the mystery&lt;/span>&lt;br/>
&lt;span class="preserve">                             of my flesh&lt;/span>&lt;br/>
I will rise&lt;br/>
&lt;span class="preserve">            After a thousand years&lt;/span>&lt;br/>
lipping&lt;br/>
flowers&lt;br/>
&lt;span class="preserve">        And set my teeth in the silver of the moon&lt;/span>&lt;/p></code></pre>
				</figure>
				
				<figure id="ex-03">
					<figcaption>
						<div class="label">Example 3 &#8212; Preserving indentation using text indents</div>
						<p>The same poem from <a href="#ex-02">Example 2</a> is shown but uses <code>span</code> 
							tags with CSS indenting. The <code>span</code> tags also need to have their
							CSS <code>display</code> set to <code>inline-block</code> for the formatting to work.</p>
					</figcaption>
					
					<pre id="ex-03-src" class="prettyprint linenums"><code>&lt;p class="poem">i will wade out&lt;br/>
&lt;span style="text-indent: 6rem">till my thighs are steeped in burning flowers&lt;/span>&lt;br/>
I will take the sun in my mouth&lt;br/>
and leap into the ripe air&lt;br/>
&lt;span style="text-indent: 11rem">Alive&lt;/span>&lt;br/>
&lt;span style="text-indent: 13rem">with closed eyes&lt;/span>&lt;br/>
to dash against darkness&lt;br/>
&lt;span style="text-indent: 10rem">in the sleeping curves of my body&lt;/span>&lt;br/>
Shall enter fingers of smooth mastery&lt;br/>
with chasteness of sea-girls&lt;br/>
&lt;span style="text-indent: 11.5rem">Will i complete the mystery&lt;/span>&lt;br/>
&lt;span style="text-indent: 11.5rem">of my flesh&lt;/span>&lt;br/>
I will rise&lt;br/>
&lt;span style="text-indent: 5rem">After a thousand years&lt;/span>&lt;br/>
lipping&lt;br/>
flowers&lt;br/>
&lt;span style="text-indent: 3.5rem">And set my teeth in the silver of the moon&lt;/span>&lt;/p></code></pre>
				</figure>
			</section>
			
			<section id="faq">
				<h3>Frequently Asked Questions</h3>
				
				<dl>
					<dt id="faq-001">Can I use images for poetry?</dt>
					<dd>
						<p>The layout of some poetry is too complex to be represented by HTML and CSS. In
							these cases, the only option may be to use an image to represent the source.</p>
						<p>If an image must be used, you must provide the text of the poem for users
							who cannot perceive the layout (e.g., in a <code>details</code> element). It will
							also be necessary to describe how the text is arranged in the image so that readers
							are able to understand the intent of the poem.</p>
						<p>The use of images should be a last resort for only the most difficult of layouts.</p>
					</dd>
					
					<dt id="faq-002">Can I use <code>pre</code> tags for layout?</dt>
					<dd>
						<p>Yes, but the <code>pre</code> tag is best reserved for poetry that relies on positioning
							of individual characters and words. For simple indenting, using <code>span</code> or
							<code>div</code> tags with CSS styling is often a better option.</p>
					</dd>
					
					<dt id="faq-003">Can I identify poetry with ARIA?</dt>
					<dd>
						<p>No. Although the line-based formatting of poetry is visually distinctive from standard
							prose, and read differently from the continuous flow of prose, HTML does not provide native
							semantic elements for marking up poetry. ARIA also lacks roles to identify poems and their
							internal structures.</p>
						
						<p>For books of poetry, this is generally not an issue as users know what types of works they are
							reading, but for works of fiction, especially, authors may randomly intersperse poems and
							lyrics between paragraphs of text without indicating a change in style has occurred.</p>
						
						<p>At this time, users of assistive technologies are left to intuit changes in writing style
							by how the applications respond to the markup that is available (e.g., that they stop reading
							a line at a <code>br</code> tag).</p>
					</dd>
					
					<dt id="faq-004">Do I need whitespace around the <code>br</code> tags?</dt>
					<dd>
						<p>Yes, many reading systems do not support reading by line when <code>br</code> tags
							are present. If you run the text of each line into a <code>br</code> tag as in the
							following example:</p>
						
						<pre class="prettyprint linenums">&#8230;lipping&lt;br/>flowers&lt;br/>&#8230;</pre>
						
						<p>then these reading systems will slur the words together when text-to-speech playback is
							enabled.</p>
						
						<p>To avoid this issue, ensure that there is always at least one whitespace character before
							or after the <code>br</code> tag. Adding a line break after each <code>br</code> tag, as
							in the <a href="#ex">examples above</a>, will avoid this issue, as will adding a space
							before the <code>br</code> tag.</p>
					</dd>
				</dl>
			</section>
			
			<section id="desc">
				<h3>Explanation</h3>
				
				<p>Although HTML does not include semantically meaningful markup for expressing poetry, it is possible
					to mark up lines of verse using native elements.</p>
				
				<p>The <code>p</code> element is commonly associated with paragraphs of text, for example, but HTML
					expands the tag's meaning to include poetry:</p>
				
				<blockquote>
					<p>A paragraph is typically a run of phrasing content &#8230; but can also be used for more general
						thematic grouping. For instance, an address is also a paragraph, as is &#8230; a stanza in a
						poem.</p>
				</blockquote>
				
				<p>The lines within each stanza are then identified using <code>br</code> tags. Assistive
					technologies can pause reading at each <code>br</code> tag, allowing users to move line-by-line
					through the poem (refer to <a href="#ex-01">Example 1</a>).</p>
				
				<div class="note" role="note" aria-labelledby="bug-note">
					<p id="bug-note" class="label">Note</p>
					<p>There is a known bug with chromium-based reading systems on MacOS where VoiceOver repeats lines
						when <code>br</code> tags are used inside a <code>blockquote</code>. This affects quoted poetry
						and lyrics (e.g., in epigraphs). For more information on the current status, refer to the <a 
							href="https://bugs.chromium.org/p/chromium/issues/detail?id=1322784">bug report</a>.</p>
				</div>
				
				<p>Although this markup pattern works for basic poetry, there will be many situations where
					it is too limited. Poetry often makes use of visual layout to convey meaning. In these cases,
					CSS styling will also be needed to retain indentation and placement of text (refer to
					examples <a href="#ex-02">2</a> and <a href="#ex-03">3</a>).</p>
				
				<p>With visual poetry, it is also important to provide a description of the layout for those who
					cannot see the content or have difficulty viewing the full layout. This is important not only
					when an <a href="#faq-01">image has to be used</a>, but any time the layout conveys meaning.</p>
			</section>
		</main>
	</body>
</html>
