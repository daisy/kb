<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Table Summaries</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="canonical" href="https://kb.daisy.org/publishing/docs/html/table-summary.html">
		<meta name="description" content="Guidelines for describing the structure of tables.">
		<script>
			var page_info = {
				'category': 'html',
				'appliesTo': ['Audiobooks*','EPUB3','EPUB2'],
				'related': ['html-table-basics','html-table-captions']
			};
		</script>
		<script src="/js/init.js"></script>
	</head>
	
	<body>
		<main>
			<section id="summary">
				<h3>Summary</h3>
				
				<p>Add summaries for tables with complex layouts to explain how they are structured.</p>
			</section>
			
			<section id="tech">
				<h3>Techniques</h3>
				
				<ul>
					<li>Provide a summary that describes the structure of complex tables. [[WCAG-1.3.1]]</li>
					<li>Ensure the summary and caption do not repeat the same text. [[WCAG-1.3.1]]</li>
				</ul>
			</section>

			<section id="ex">
				<h3>Examples</h3>
				
				<figure id="ex-01">
					<figcaption>
						<div class="label">Example 1 &#8212; Summary in the table caption</div>
						<p>In these examples, the summary is provided within the table's <code>caption</code>
							element. One example uses a <code>p</code> tag, so the summary is always visible,
							while the other uses a <code>details</code> element to collapse the summary.</p>
					</figcaption>
					
					<pre id="ex-01a-src" class="prettyprint linenums"><code>&lt;table>
   &lt;caption>
      &lt;p class="title">Consolidated Statements of Operations&lt;p>
      &lt;p class="desc">
         The table contains the complete list of
         operational expenses for the last three years.
         These expenses are categorized within the table to &#8230;
      &lt;/p>
   &lt;/caption>
   &#8230;
&lt;/table></code></pre>
					
					<pre id="ex-01b-src" class="prettyprint linenums"><code>&lt;table aria-details="tbl-desc">
   &lt;caption>
      &lt;p class="title">Consolidated Statements of Operations&lt;/p>
      &lt;details id="tbl-desc">
         &lt;summary>Description&lt;/summary>
         &lt;p class="desc">
            The table contains the complete list
            of operational expenses for the last
            three years. These expenses are
            categorized within the table to &#8230;
         &lt;/p>
      &lt;details>
   &lt;/caption>
   &#8230;
&lt;/table></code></pre>
				</figure>
				
				<figure id="ex-02">
					<figcaption>
						<div class="label">Example 2 &#8212; Summary in a figure</div>
						<p>In the first example, the table summary is provided in the figure's <code>figcaption</code>
							element.</p>
						<p>In the second example, a <code>details</code> element is used for the table summary. As the
							<code>details</code> element is not well supported inside a <code>figure</code> in EPUB,
							it is placed after the <code>figure</code> and linked to it using the <code>aria-details</code>
							attribute.</p>
					</figcaption>
					
					<pre id="ex-02a-src" class="prettyprint linenums"><code>&lt;figure aria-details="tbl-desc">
   &lt;figcaption>
      &lt;p class="title">Consolidated Statements of Operations&lt;/p>
      &lt;p class="desc">
         The table contains the complete list of
         operational expenses for the last three years.
         These expenses are categorized within the table to &#8230;
      &lt;/p>
   &lt;/figcaption>

   &lt;table aria-details="tbl-desc">
      &#8230;
   &lt;/table>
&lt;/figure></code></pre>
					
					<pre id="ex-02b-src" class="prettyprint linenums"><code>&lt;figure aria-details="tbl-desc">
   &lt;figcaption>Consolidated Statements of Operations&lt;/figcaption>

   &lt;table aria-details="tbl-desc">
      &#8230;
   &lt;/table>
&lt;/figure>

&lt;details id="tbl-desc">
   &lt;summary>Description&lt;/summary>
   &lt;p class="desc">
      The table contains the complete list
      of operational expenses for the last
      three years. These expenses are
      categorized within the table to &#8230;
   &lt;/p>
&lt;details></code></pre>
				</figure>
				
				<figure id="ex-03">
					<figcaption>
						<div class="label">Example 3 &#8212; Hidden summary associated with ARIA attributes</div>
						<p>In this example, the summary cannot be visibly displayed, so the hidden text is linked
							to the table using the <code>aria-describedby</code> attributes. Although assistive
							technologies will normally not read hidden text, the use of the ARIA attribute allows
							users to hear the summary.</p>
					</figcaption>
					
					<pre id="ex-03b-src" class="prettyprint linenums"><code>&lt;table aria-describedby="tbl-desc">
   &#8230;
&lt;/table>

&lt;p id="tbl-desc" hidden="">
   The table contains the complete list of
   operational expenses for the last three years.
   These expenses are categorized within the table to &#8230;
&lt;/p></code></pre>
				</figure>
			</section>
			
			<section id="desc">
				<h3>Explanation</h3>
				
				<p>For tables with complex information or structures, including a description for the user on how to
					read the table can greatly assist comprehension. These summaries are beneficial for many different
					user needs, not only for users who cannot see the content.</p>
				
				<p>The summary for a table should ideally be placed before users encounter the table. If this is
					not possible, ARIA attributes such as <code>aria-details</code> and <code>aria-describedby</code>
					can be used to programmatically link the summary to the table. These attributes allow assistive
					technologies to provide the summary to the user when they reach the table, despite being positioned
					elsewhere.</p>
				
				<p>There are many methods for adding summaries. While this page lists some, the HTML specification also
					includes a <a href="https://html.spec.whatwg.org/multipage/tables.html#table-descriptions-techniques"
						>section detailing others</a>. All these methods are valid, so the choice of which to use can
					be dictated by the publisher's workflow needs.</p>
			</section>
			
			<section id="refs">
				<h3>Related Links</h3>

				<ul>
					<li>HTML &#8212; <a href="https://html.spec.whatwg.org/multipage/tables.html#table-descriptions-techniques">Techniques for describing tables</a></li>
				</ul>
			</section>
		</main>
	</body>
</html>
